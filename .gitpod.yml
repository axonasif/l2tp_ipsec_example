# We run the task commands in a subshell and exit the main shells, thus vscode is left with no open shells.

tasks:
  # Terminal 1
  - name: combined tasks
    command: |
      (
        echo "this is a command (combined)"
        cowsay Hello
        python3 -c "print('hi')"
      ) & disown # <- subshell background process

      exit # <- closes the vscode terminal tab
      
    before: echo "something" > .env && exit # <- closes the vscode terminal tab

  # Terminal 2
  - before: |
      (
        npm install
        cargo check
      ) & disown # <- subshell background process

      exit # <- closes the vscode terminal tab
        
github:
  prebuilds:
    branches: true
